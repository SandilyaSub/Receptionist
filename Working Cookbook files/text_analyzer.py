# To run this code you need to install the following dependencies:
# pip install google-genai

import base64
import os
from google import genai
from google.genai import types


def generate():
    client = genai.Client(
        api_key=os.environ.get("GEMINI_API_KEY"),
    )

    model = "gemini-2.5-flash"
    contents = [
        types.Content(
            role="user",
            parts=[
                types.Part.from_text(text="""Call_type - Booking 

Transcript - 
{\"session_id\":\"fd0e9000-7825-4a70-b826-e53a87ad27d7\",\"conversation\":[{\"role\":\"user\",\"text\":\"Hello.\"},{\"role\":\"assistant\",\"text\":\"Hello! Welcome\"},{\"role\":\"assistant\",\"text\":\"to Happy\"},{\"role\":\"assistant\",\"text\":\"Endings\"},{\"role\":\"assistant\",\"text\":\"Bakery!\"},{\"role\":\"assistant\",\"text\":\"This\"},{\"role\":\"assistant\",\"text\":\"is\"},{\"role\":\"assistant\",\"text\":\"Aarohi.\"},{\"role\":\"assistant\",\"text\":\"How may\"},{\"role\":\"assistant\",\"text\":\"I help\"},{\"role\":\"assistant\",\"text\":\"you today?\"},{\"role\":\"user\",\"text\":\"I\"},{\"role\":\"user\",\"text\":\"would\"},{\"role\":\"user\",\"text\":\"like\"},{\"role\":\"user\",\"text\":\"to\"},{\"role\":\"user\",\"text\":\"or\"},{\"role\":\"user\",\"text\":\"der\"},{\"role\":\"user\",\"text\":\"1\"},{\"role\":\"user\",\"text\":\"k\"},{\"role\":\"user\",\"text\":\"g\"},{\"role\":\"user\",\"text\":\"Du\"},{\"role\":\"user\",\"text\":\"tch\"},{\"role\":\"user\",\"text\":\"ca\"},{\"role\":\"user\",\"text\":\"ke\"},{\"role\":\"user\",\"text\":\"round\"},{\"role\":\"user\",\"text\":\"in\"},{\"role\":\"user\",\"text\":\"sha\"},{\"role\":\"user\",\"text\":\"pe\"},{\"role\":\"user\",\"text\":\"no\"},{\"role\":\"user\",\"text\":\"thing\"},{\"role\":\"user\",\"text\":\"no\"},{\"role\":\"user\",\"text\":\"de\"},{\"role\":\"user\",\"text\":\"co\"},{\"role\":\"user\",\"text\":\"ration\"},{\"role\":\"user\",\"text\":\"s\"},{\"role\":\"user\",\"text\":\"no\"},{\"role\":\"user\",\"text\":\"thing\"},{\"role\":\"user\",\"text\":\"wri\"},{\"role\":\"user\",\"text\":\"tten\"},{\"role\":\"user\",\"text\":\"on to\"},{\"role\":\"user\",\"text\":\"p\"},{\"role\":\"user\",\"text\":\"eg\"},{\"role\":\"user\",\"text\":\"g\"},{\"role\":\"user\",\"text\":\"list\"},{\"role\":\"user\",\"text\":\"I\"},{\"role\":\"user\",\"text\":\"'ll\"},{\"role\":\"user\",\"text\":\"pick\"},{\"role\":\"user\",\"text\":\"it\"},{\"role\":\"user\",\"text\":\"up\"},{\"role\":\"user\",\"text\":\"tomo\"},{\"role\":\"user\",\"text\":\"rrow\"},{\"role\":\"user\",\"text\":\"at\"},{\"role\":\"user\",\"text\":\"6\"},{\"role\":\"user\",\"text\":\"p\"},{\"role\":\"user\",\"text\":\"m\"},{\"role\":\"user\",\"text\":\"my\"},{\"role\":\"user\",\"text\":\"name\"},{\"role\":\"user\",\"text\":\"is\"},{\"role\":\"user\",\"text\":\"San\"},{\"role\":\"user\",\"text\":\"dy\"},{\"role\":\"user\",\"text\":\"phone\"},{\"role\":\"user\",\"text\":\"number\"},{\"role\":\"user\",\"text\":\"is\"},{\"role\":\"user\",\"text\":\"9\"},{\"role\":\"user\",\"text\":\"4\"},{\"role\":\"user\",\"text\":\"8\"},{\"role\":\"user\",\"text\":\"8\"},{\"role\":\"user\",\"text\":\"2\"},{\"role\":\"user\",\"text\":\"7\"},{\"role\":\"user\",\"text\":\"3\"},{\"role\":\"user\",\"text\":\"8\"},{\"role\":\"user\",\"text\":\"8\"},{\"role\":\"user\",\"text\":\"2\"},{\"role\":\"assistant\",\"text\":\"Oh absolutely!\"},{\"role\":\"user\",\"text\":\"Gone.\"},{\"role\":\"assistant\",\"text\":\"Alright Mr.\"},{\"role\":\"assistant\",\"text\":\"Sandy,\"},{\"role\":\"assistant\",\"text\":\"I've got\"},{\"role\":\"assistant\",\"text\":\"your order\"},{\"role\":\"assistant\",\"text\":\"for a\"},{\"role\":\"assistant\",\"text\":\"1kg\"},{\"role\":\"assistant\",\"text\":\"Dutch\"},{\"role\":\"assistant\",\"text\":\"truffle\"},{\"role\":\"assistant\",\"text\":\"cake\"},{\"role\":\"assistant\",\"text\":\"in a\"},{\"role\":\"assistant\",\"text\":\"round\"},{\"role\":\"assistant\",\"text\":\"shape,\"},{\"role\":\"assistant\",\"text\":\"eggless,\"},{\"role\":\"assistant\",\"text\":\"with no\"},{\"role\":\"assistant\",\"text\":\"decorations\"},{\"role\":\"assistant\",\"text\":\"and\"},{\"role\":\"assistant\",\"text\":\"no\"},{\"role\":\"assistant\",\"text\":\"message\"},{\"role\":\"assistant\",\"text\":\"on top.\"},{\"role\":\"assistant\",\"text\":\"It\"},{\"role\":\"assistant\",\"text\":\"will be\"},{\"role\":\"assistant\",\"text\":\"ready\"},{\"role\":\"assistant\",\"text\":\"for pickup\"},{\"role\":\"assistant\",\"text\":\"tomorrow\"},{\"role\":\"assistant\",\"text\":\"at\"},{\"role\":\"assistant\",\"text\":\"6\"},{\"role\":\"assistant\",\"text\":\"PM.\"},{\"role\":\"assistant\",\"text\":\"Your phone\"},{\"role\":\"assistant\",\"text\":\"number\"},{\"role\":\"assistant\",\"text\":\"is\"},{\"role\":\"assistant\",\"text\":\"94882-73882.\"},{\"role\":\"assistant\",\"text\":\"The total\"},{\"role\":\"assistant\",\"text\":\"cost\"},{\"role\":\"assistant\",\"text\":\"is\"},{\"role\":\"assistant\",\"text\":\"₹1100\"},{\"role\":\"assistant\",\"text\":\"plus\"},{\"role\":\"assistant\",\"text\":\"5%\"},{\"role\":\"assistant\",\"text\":\"GST,\"},{\"role\":\"assistant\",\"text\":\"making\"},{\"role\":\"assistant\",\"text\":\"it\"},{\"role\":\"assistant\",\"text\":\"₹1155\"},{\"role\":\"assistant\",\"text\":\"rupees.\"},{\"role\":\"assistant\",\"text\":\"Does\"},{\"role\":\"assistant\",\"text\":\"that sound\"},{\"role\":\"assistant\",\"text\":\"perfect?\"},{\"role\":\"user\",\"text\":\"Per\"},{\"role\":\"user\",\"text\":\"fect\"},{\"role\":\"user\",\"text\":\"thank you.\"}]}"""),
            ],
        ),
        types.Content(
            role="model",
            parts=[
                types.Part.from_text(text="""{\"call_type\": \"Booking\", \"order_details\": {\"item\": \"Dutch cake\", \"weight\": \"1 kg\", \"shape\": \"round\", \"decorations\": \"no\", \"message_on_top\": \"no\", \"eggless\": \"yes\", \"pickup_date\": \"tomorrow\", \"pickup_time\": \"6:00 PM\"}, \"customer_details\": {\"name\": \"Sandy\", \"phone_number\": \"9488273882\"}, \"cost_details\": {\"base_cost\": \"1100\", \"gst_percentage\": \"5%\", \"total_cost\": \"1155\"}}"""),
            ],
        ),
        types.Content(
            role="user",
            parts=[
                types.Part.from_text(text="""{\"call_type\":\"Informational\"}

{\"session_id\":\"382cd4c5-ebe7-43b3-9592-15761e6fd063\",\"conversation\":[{\"role\":\"user\",\"text\":\"I'd\"},{\"role\":\"user\",\"text\":\"like\"},{\"role\":\"user\",\"text\":\"to\"},{\"role\":\"user\",\"text\":\"know\"},{\"role\":\"user\",\"text\":\"what all takes are available.\"},{\"role\":\"assistant\",\"text\":\"Hello! Welcome\"},{\"role\":\"assistant\",\"text\":\"to Happy\"},{\"role\":\"assistant\",\"text\":\"Endings\"},{\"role\":\"assistant\",\"text\":\"Bakery!\"},{\"role\":\"assistant\",\"text\":\"This\"},{\"role\":\"assistant\",\"text\":\"is\"},{\"role\":\"assistant\",\"text\":\"Aarohi.\"},{\"role\":\"assistant\",\"text\":\"How may\"},{\"role\":\"assistant\",\"text\":\"I help\"},{\"role\":\"assistant\",\"text\":\"you today?\"},{\"role\":\"assistant\",\"text\":\"I can\"},{\"role\":\"assistant\",\"text\":\"help\"},{\"role\":\"assistant\",\"text\":\"you choose\"},{\"role\":\"assistant\",\"text\":\"from\"},{\"role\":\"assistant\",\"text\":\"our delicious\"},{\"role\":\"assistant\",\"text\":\"cake\"},{\"role\":\"assistant\",\"text\":\"flavors,\"},{\"role\":\"assistant\",\"text\":\"customize\"},{\"role\":\"assistant\",\"text\":\"it exactly\"},{\"role\":\"assistant\",\"text\":\"how you\"},{\"role\":\"assistant\",\"text\":\"want,\"},{\"role\":\"assistant\",\"text\":\"and\"},{\"role\":\"assistant\",\"text\":\"arrange\"},{\"role\":\"assistant\",\"text\":\"a convenient\"},{\"role\":\"assistant\",\"text\":\"pickup\"},{\"role\":\"assistant\",\"text\":\"time.\"},{\"role\":\"user\",\"text\":\"I just heard something.\"},{\"role\":\"assistant\",\"text\":\"Oh wonderful!\"},{\"role\":\"assistant\",\"text\":\"We\"},{\"role\":\"assistant\",\"text\":\"have\"},{\"role\":\"assistant\",\"text\":\"a wide\"},{\"role\":\"assistant\",\"text\":\"selection\"},{\"role\":\"assistant\",\"text\":\"of delicious\"},{\"role\":\"assistant\",\"text\":\"cakes\"},{\"role\":\"assistant\",\"text\":\"for you\"},{\"role\":\"assistant\",\"text\":\"to choose\"},{\"role\":\"assistant\",\"text\":\"from.\"},{\"role\":\"assistant\",\"text\":\"Are you\"},{\"role\":\"assistant\",\"text\":\"looking\"},{\"role\":\"assistant\",\"text\":\"for\"},{\"role\":\"assistant\",\"text\":\"a particular\"},{\"role\":\"assistant\",\"text\":\"flavor\"},{\"role\":\"assistant\",\"text\":\"or\"},{\"role\":\"assistant\",\"text\":\"a specific\"},{\"role\":\"assistant\",\"text\":\"occasion?\"},{\"role\":\"user\",\"text\":\"I\"},{\"role\":\"user\",\"text\":\"'d\"},{\"role\":\"user\",\"text\":\"like\"},{\"role\":\"user\",\"text\":\"to\"},{\"role\":\"user\",\"text\":\"know\"},{\"role\":\"user\",\"text\":\"wha\"},{\"role\":\"user\",\"text\":\"t all cakes are available.\"},{\"role\":\"assistant\",\"text\":\"Oh absolutely!\"},{\"role\":\"assistant\",\"text\":\"We have\"},{\"role\":\"assistant\",\"text\":\"some\"},{\"role\":\"assistant\",\"text\":\"really\"},{\"role\":\"assistant\",\"text\":\"delicious\"},{\"role\":\"assistant\",\"text\":\"options.\"},{\"role\":\"assistant\",\"text\":\"Our premium\"},{\"role\":\"assistant\",\"text\":\"flavors\"},{\"role\":\"assistant\",\"text\":\"include\"},{\"role\":\"assistant\",\"text\":\"the rich\"},{\"role\":\"assistant\",\"text\":\"Dutch\"},{\"role\":\"assistant\",\"text\":\"Truffle,\"},{\"role\":\"assistant\",\"text\":\"the fresh\"},{\"role\":\"assistant\",\"text\":\"Fruit\"},{\"role\":\"assistant\",\"text\":\"Premium,\"},{\"role\":\"assistant\",\"text\":\"the classic\"},{\"role\":\"assistant\",\"text\":\"German\"},{\"role\":\"assistant\",\"text\":\"Chocolate\"},{\"role\":\"assistant\",\"text\":\"Cake,\"},{\"role\":\"assistant\",\"text\":\"and the\"},{\"role\":\"assistant\",\"text\":\"luxurious\"},{\"role\":\"assistant\",\"text\":\"Ferrero\"},{\"role\":\"assistant\",\"text\":\"Rocher\"},{\"role\":\"assistant\",\"text\":\"Cake.\"},{\"role\":\"assistant\",\"text\":\"In\"},{\"role\":\"assistant\",\"text\":\"our classic\"},{\"role\":\"assistant\",\"text\":\"range,\"},{\"role\":\"assistant\",\"text\":\"we have\"},{\"role\":\"assistant\",\"text\":\"Pineapple,\"},{\"role\":\"assistant\",\"text\":\"Dark\"},{\"role\":\"assistant\",\"text\":\"Forest,\"},{\"role\":\"assistant\",\"text\":\"Butterscotch,\"},{\"role\":\"assistant\",\"text\":\"Irish\"},{\"role\":\"assistant\",\"text\":\"Coffee,\"},{\"role\":\"assistant\",\"text\":\"and\"},{\"role\":\"assistant\",\"text\":\"Carrot\"},{\"role\":\"assistant\",\"text\":\"Cake.\"},{\"role\":\"assistant\",\"text\":\"Plus,\"},{\"role\":\"assistant\",\"text\":\"we have\"},{\"role\":\"assistant\",\"text\":\"specialty\"},{\"role\":\"assistant\",\"text\":\"flavors\"},{\"role\":\"assistant\",\"text\":\"like\"},{\"role\":\"assistant\",\"text\":\"the creamy\"},{\"role\":\"assistant\",\"text\":\"Blueberry\"},{\"role\":\"assistant\",\"text\":\"Cheesecake,\"},{\"role\":\"assistant\",\"text\":\"the delightful\"},{\"role\":\"assistant\",\"text\":\"Tiramisu,\"},{\"role\":\"assistant\",\"text\":\"and\"},{\"role\":\"assistant\",\"text\":\"the classic\"},{\"role\":\"assistant\",\"text\":\"New\"},{\"role\":\"assistant\",\"text\":\"York\"},{\"role\":\"assistant\",\"text\":\"Cheesecake.\"},{\"role\":\"assistant\",\"text\":\"Is there\"},{\"role\":\"assistant\",\"text\":\"a particular\"},{\"role\":\"assistant\",\"text\":\"flavor\"},{\"role\":\"assistant\",\"text\":\"you had\"},{\"role\":\"assistant\",\"text\":\"in mind?\"},{\"role\":\"user\",\"text\":\"Okay\"},{\"role\":\"user\",\"text\":\",\"},{\"role\":\"user\",\"text\":\"than\"},{\"role\":\"user\",\"text\":\"k you\"},{\"role\":\"user\",\"text\":\"so\"},{\"role\":\"user\",\"text\":\"much\"},{\"role\":\"user\",\"text\":\".\"},{\"role\":\"user\",\"text\":\"No\"},{\"role\":\"user\",\"text\":\"thing else I need thank you.\"},{\"role\":\"assistant\",\"text\":\"You're most\"},{\"role\":\"assistant\",\"text\":\"welcome!\"},{\"role\":\"user\",\"text\":\"<noise>\"},{\"role\":\"assistant\",\"text\":\"Hello! Welcome\"},{\"role\":\"assistant\",\"text\":\"to Happy\"},{\"role\":\"user\",\"text\":\"Hello. Hello.\"},{\"role\":\"assistant\",\"text\":\"Hello! Welcome\"},{\"role\":\"assistant\",\"text\":\"to Happy\"},{\"role\":\"assistant\",\"text\":\"Endings\"},{\"role\":\"assistant\",\"text\":\"Bakery!\"},{\"role\":\"assistant\",\"text\":\"This\"},{\"role\":\"assistant\",\"text\":\"is Aarohi.\"},{\"role\":\"assistant\",\"text\":\"How\"},{\"role\":\"assistant\",\"text\":\"may\"},{\"role\":\"assistant\",\"text\":\"I help\"},{\"role\":\"assistant\",\"text\":\"you today?\"},{\"role\":\"user\",\"text\":\"Nothing else funny.\"},{\"role\":\"assistant\",\"text\":\"Alright then!\"},{\"role\":\"assistant\",\"text\":\"Feel\"},{\"role\":\"assistant\",\"text\":\"free\"},{\"role\":\"assistant\",\"text\":\"to reach\"},{\"role\":\"assistant\",\"text\":\"out\"},{\"role\":\"assistant\",\"text\":\"if you\"},{\"role\":\"assistant\",\"text\":\"change\"},{\"role\":\"assistant\",\"text\":\"your mind\"},{\"role\":\"assistant\",\"text\":\"or\"},{\"role\":\"assistant\",\"text\":\"need\"},{\"role\":\"assistant\",\"text\":\"anything\"},{\"role\":\"assistant\",\"text\":\"else.\"},{\"role\":\"assistant\",\"text\":\"We're\"},{\"role\":\"assistant\",\"text\":\"here\"},{\"role\":\"assistant\",\"text\":\"to make\"}]}"""),
            ],
        ),
        types.Content(
            role="model",
            parts=[
                types.Part.from_text(text="""{\"call_type\": \"Informational\", \"query\": \"cake availability\", \"information_provided\": {\"premium_flavors\": [\"Dutch Truffle\", \"Fruit Premium\", \"German Chocolate Cake\", \"Ferrero Rocher Cake\"], \"classic_range\": [\"Pineapple\", \"Dark Forest\", \"Butterscotch\", \"Irish Coffee\", \"Carrot Cake\"], \"specialty_flavors\": [\"Blueberry Cheesecake\", \"Tiramisu\", \"New York Cheesecake\"]}}"""),
            ],
        ),
        types.Content(
            role="user",
            parts=[
                types.Part.from_text(text="""{\"session_id\":\"0f9b089a-13fd-44cf-b391-70f29591d30f\",\"conversation\":[{\"role\":\"user\",\"text\":\"Hello.\"},{\"role\":\"assistant\",\"text\":\"Hello! Welcome\"},{\"role\":\"assistant\",\"text\":\"to Happy\"},{\"role\":\"assistant\",\"text\":\"Endings\"},{\"role\":\"assistant\",\"text\":\"Bakery!\"},{\"role\":\"assistant\",\"text\":\"This\"},{\"role\":\"assistant\",\"text\":\"is Aarohi.\"},{\"role\":\"assistant\",\"text\":\"How may\"},{\"role\":\"assistant\",\"text\":\"I help\"},{\"role\":\"assistant\",\"text\":\"you today?\"},{\"role\":\"user\",\"text\":\"I\"},{\"role\":\"user\",\"text\":\"'d\"},{\"role\":\"user\",\"text\":\"like\"},{\"role\":\"user\",\"text\":\"to\"},{\"role\":\"user\",\"text\":\"book\"},{\"role\":\"user\",\"text\":\"a ca\"},{\"role\":\"user\",\"text\":\"ke\"},{\"role\":\"user\",\"text\":\".\"},{\"role\":\"assistant\",\"text\":\"Of course!\"},{\"role\":\"assistant\",\"text\":\"I can\"},{\"role\":\"assistant\",\"text\":\"help\"},{\"role\":\"assistant\",\"text\":\"you choose\"},{\"role\":\"assistant\",\"text\":\"from\"},{\"role\":\"assistant\",\"text\":\"our delicious\"},{\"role\":\"assistant\",\"text\":\"cake\"},{\"role\":\"assistant\",\"text\":\"flavors,\"},{\"role\":\"assistant\",\"text\":\"customize\"},{\"role\":\"assistant\",\"text\":\"it exactly\"},{\"role\":\"assistant\",\"text\":\"how you\"},{\"role\":\"assistant\",\"text\":\"want,\"},{\"role\":\"assistant\",\"text\":\"and\"},{\"role\":\"assistant\",\"text\":\"arrange\"},{\"role\":\"assistant\",\"text\":\"a convenient\"},{\"role\":\"assistant\",\"text\":\"pickup\"},{\"role\":\"assistant\",\"text\":\"time.\"},{\"role\":\"assistant\",\"text\":\"What's\"},{\"role\":\"assistant\",\"text\":\"the special\"},{\"role\":\"assistant\",\"text\":\"occasion\"},{\"role\":\"assistant\",\"text\":\"we're celebrating?\"},{\"role\":\"user\",\"text\":\"No\"},{\"role\":\"user\",\"text\":\"special occasion.\"},{\"role\":\"assistant\",\"text\":\"Oh, wonderful!\"},{\"role\":\"assistant\",\"text\":\"You don't\"},{\"role\":\"assistant\",\"text\":\"need\"},{\"role\":\"assistant\",\"text\":\"a special\"},{\"role\":\"assistant\",\"text\":\"occasion\"},{\"role\":\"assistant\",\"text\":\"to enjoy\"},{\"role\":\"assistant\",\"text\":\"a delicious\"},{\"role\":\"assistant\",\"text\":\"cake.\"},{\"role\":\"assistant\",\"text\":\"How about\"},{\"role\":\"assistant\",\"text\":\"we explore\"},{\"role\":\"assistant\",\"text\":\"some\"},{\"role\":\"assistant\",\"text\":\"of our\"},{\"role\":\"assistant\",\"text\":\"popular\"},{\"role\":\"assistant\",\"text\":\"flavors?\"},{\"role\":\"assistant\",\"text\":\"Are\"},{\"role\":\"assistant\",\"text\":\"you in\"},{\"role\":\"assistant\",\"text\":\"the mood\"},{\"role\":\"assistant\",\"text\":\"for something\"},{\"role\":\"assistant\",\"text\":\"rich\"},{\"role\":\"assistant\",\"text\":\"and chocolatey,\"},{\"role\":\"assistant\",\"text\":\"or maybe\"},{\"role\":\"assistant\",\"text\":\"something\"},{\"role\":\"assistant\",\"text\":\"fruity\"},{\"role\":\"assistant\",\"text\":\"and refreshing?\"},{\"role\":\"user\",\"text\":\"I\"},{\"role\":\"user\",\"text\":\"'d\"},{\"role\":\"user\",\"text\":\"like\"},{\"role\":\"user\",\"text\":\"hal\"},{\"role\":\"user\",\"text\":\"f\"},{\"role\":\"user\",\"text\":\"k\"},{\"role\":\"user\",\"text\":\"g\"},{\"role\":\"user\",\"text\":\"du\"},{\"role\":\"user\",\"text\":\"tch\"},{\"role\":\"user\",\"text\":\"ca\"},{\"role\":\"user\",\"text\":\"ke\"},{\"role\":\"user\",\"text\":\"round\"},{\"role\":\"user\",\"text\":\"in\"},{\"role\":\"user\",\"text\":\"sha\"},{\"role\":\"user\",\"text\":\"pe\"},{\"role\":\"user\",\"text\":\"eg\"},{\"role\":\"user\",\"text\":\"g\"},{\"role\":\"user\",\"text\":\"les\"},{\"role\":\"user\",\"text\":\"s.\"},{\"role\":\"user\",\"text\":\"I\"},{\"role\":\"user\",\"text\":\"'ll\"},{\"role\":\"user\",\"text\":\"pick\"},{\"role\":\"user\",\"text\":\"it\"},{\"role\":\"user\",\"text\":\"up\"},{\"role\":\"user\",\"text\":\"tomo\"},{\"role\":\"user\",\"text\":\"rrow\"},{\"role\":\"user\",\"text\":\"at\"},{\"role\":\"user\",\"text\":\"5\"},{\"role\":\"user\",\"text\":\"p\"},{\"role\":\"user\",\"text\":\"m\"},{\"role\":\"user\",\"text\":\"and\"},{\"role\":\"user\",\"text\":\"my\"},{\"role\":\"user\",\"text\":\"name\"},{\"role\":\"user\",\"text\":\"is\"},{\"role\":\"user\",\"text\":\"San\"},{\"role\":\"user\",\"text\":\"dy\"},{\"role\":\"user\",\"text\":\"my\"},{\"role\":\"user\",\"text\":\"phone\"},{\"role\":\"user\",\"text\":\"number\"},{\"role\":\"user\",\"text\":\"is\"},{\"role\":\"user\",\"text\":\"9\"},{\"role\":\"user\",\"text\":\"4\"},{\"role\":\"user\",\"text\":\"8\"},{\"role\":\"user\",\"text\":\"8\"},{\"role\":\"user\",\"text\":\"7\"},{\"role\":\"user\",\"text\":\"2\"},{\"role\":\"user\",\"text\":\"3\"},{\"role\":\"user\",\"text\":\"8\"},{\"role\":\"user\",\"text\":\"8\"},{\"role\":\"user\",\"text\":\".\"},{\"role\":\"assistant\",\"text\":\"Fantastic choice!\"},{\"role\":\"assistant\",\"text\":\"Our Dutch\"},{\"role\":\"assistant\",\"text\":\"truffle\"},{\"role\":\"assistant\",\"text\":\"cake\"},{\"role\":\"assistant\",\"text\":\"is\"},{\"role\":\"assistant\",\"text\":\"wonderfully\"},{\"role\":\"assistant\",\"text\":\"rich.\"},{\"role\":\"assistant\",\"text\":\"So,\"},{\"role\":\"assistant\",\"text\":\"just\"},{\"role\":\"assistant\",\"text\":\"to confirm,\"},{\"role\":\"assistant\",\"text\":\"that's\"},{\"role\":\"assistant\",\"text\":\"a half\"},{\"role\":\"assistant\",\"text\":\"kg\"},{\"role\":\"assistant\",\"text\":\"Dutch\"},{\"role\":\"assistant\",\"text\":\"truffle\"},{\"role\":\"assistant\",\"text\":\"cake\"},{\"role\":\"assistant\",\"text\":\"in\"},{\"role\":\"assistant\",\"text\":\"a round\"},{\"role\":\"assistant\",\"text\":\"shape,\"},{\"role\":\"assistant\",\"text\":\"eggless,\"},{\"role\":\"assistant\",\"text\":\"ready\"},{\"role\":\"assistant\",\"text\":\"for pickup\"},{\"role\":\"assistant\",\"text\":\"tomorrow\"},{\"role\":\"user\",\"text\":\"gone\"},{\"role\":\"assistant\",\"text\":\"Oh, apologies\"},{\"role\":\"assistant\",\"text\":\"for that!\"},{\"role\":\"assistant\",\"text\":\"I just\"},{\"role\":\"assistant\",\"text\":\"need\"},{\"role\":\"assistant\",\"text\":\"to confirm\"},{\"role\":\"assistant\",\"text\":\"the pickup\"},{\"role\":\"assistant\",\"text\":\"time.\"},{\"role\":\"assistant\",\"text\":\"You mentioned\"},{\"role\":\"assistant\",\"text\":\"tomorrow\"},{\"role\":\"assistant\",\"text\":\"at\"},{\"role\":\"assistant\",\"text\":\"5:00\"},{\"role\":\"assistant\",\"text\":\"PM,\"},{\"role\":\"assistant\",\"text\":\"is that\"},{\"role\":\"assistant\",\"text\":\"right?\"},{\"role\":\"user\",\"text\":\"That's correct.\"},{\"role\":\"assistant\",\"text\":\"Perfect! So,\"},{\"role\":\"assistant\",\"text\":\"that's\"},{\"role\":\"assistant\",\"text\":\"a half\"},{\"role\":\"assistant\",\"text\":\"kg\"},{\"role\":\"assistant\",\"text\":\"Dutch\"},{\"role\":\"assistant\",\"text\":\"truffle\"},{\"role\":\"assistant\",\"text\":\"cake,\"},{\"role\":\"assistant\",\"text\":\"round,\"},{\"role\":\"assistant\",\"text\":\"eggless,\"},{\"role\":\"assistant\",\"text\":\"for pickup\"},{\"role\":\"assistant\",\"text\":\"tomorrow\"},{\"role\":\"assistant\",\"text\":\"at\"},{\"role\":\"assistant\",\"text\":\"5:00\"},{\"role\":\"assistant\",\"text\":\"PM\"},{\"role\":\"assistant\",\"text\":\"by Mr.\"},{\"role\":\"assistant\",\"text\":\"Sandy.\"},{\"role\":\"assistant\",\"text\":\"The total\"},{\"role\":\"assistant\",\"text\":\"comes\"},{\"role\":\"assistant\",\"text\":\"to\"},{\"role\":\"assistant\",\"text\":\"₹600\"},{\"role\":\"assistant\",\"text\":\"plus\"},{\"role\":\"assistant\",\"text\":\"5%\"},{\"role\":\"assistant\",\"text\":\"GST,\"},{\"role\":\"assistant\",\"text\":\"which\"},{\"role\":\"assistant\",\"text\":\"makes\"},{\"role\":\"assistant\",\"text\":\"it ₹630.\"},{\"role\":\"assistant\",\"text\":\"You'll\"},{\"role\":\"assistant\",\"text\":\"receive\"},{\"role\":\"assistant\",\"text\":\"a confirmation\"},{\"role\":\"assistant\",\"text\":\"call\"},{\"role\":\"assistant\",\"text\":\"two\"},{\"role\":\"assistant\",\"text\":\"hours\"},{\"role\":\"assistant\",\"text\":\"before\"},{\"role\":\"assistant\",\"text\":\"pickup.\"},{\"role\":\"assistant\",\"text\":\"Is there\"},{\"role\":\"assistant\",\"text\":\"anything\"},{\"role\":\"assistant\",\"text\":\"else\"},{\"role\":\"assistant\",\"text\":\"I can\"},{\"role\":\"assistant\",\"text\":\"help\"},{\"role\":\"assistant\",\"text\":\"you with\"},{\"role\":\"assistant\",\"text\":\"today?\"},{\"role\":\"user\",\"text\":\"No\"},{\"role\":\"user\",\"text\":\"thing\"},{\"role\":\"user\",\"text\":\"else thank you.\"},{\"role\":\"assistant\",\"text\":\"Thank you\"},{\"role\":\"assistant\",\"text\":\"for choosing\"},{\"role\":\"assistant\",\"text\":\"Happy\"},{\"role\":\"assistant\",\"text\":\"Endings\"},{\"role\":\"assistant\",\"text\":\"Bakery!\"},{\"role\":\"assistant\",\"text\":\"We can't\"},{\"role\":\"assistant\",\"text\":\"wait\"},{\"role\":\"assistant\",\"text\":\"to make\"},{\"role\":\"assistant\",\"text\":\"your celebration\"},{\"role\":\"assistant\",\"text\":\"sweeter!\"}]}"""),
            ],
        ),
        types.Content(
            role="model",
            parts=[
                types.Part.from_text(text="""{\"call_type\": \"Booking\", \"order_details\": {\"item\": \"Dutch cake\", \"weight\": \"0.5 kg\", \"shape\": \"round\", \"eggless\": \"yes\", \"pickup_date\": \"tomorrow\", \"pickup_time\": \"5:00 PM\"}, \"customer_details\": {\"name\": \"Sandy\", \"phone_number\": \"948872388\"}, \"cost_details\": {\"base_cost\": \"600\", \"gst_percentage\": \"5%\", \"total_cost\": \"630\"}}"""),
            ],
        ),
        types.Content(
            role="user",
            parts=[
                types.Part.from_text(text="""{\"session_id\":\"9b7ee138-a3bc-4c45-8f96-327cfe42be1b\",\"conversation\":[{\"role\":\"user\",\"text\":\"I'm\"},{\"role\":\"user\",\"text\":\"loo\"},{\"role\":\"user\",\"text\":\"king\"},{\"role\":\"user\",\"text\":\"to order a cake.\"},{\"role\":\"assistant\",\"text\":\"Hello! Welcome\"},{\"role\":\"assistant\",\"text\":\"to Happy\"},{\"role\":\"assistant\",\"text\":\"Endings\"},{\"role\":\"assistant\",\"text\":\"Bakery!\"},{\"role\":\"assistant\",\"text\":\"This\"},{\"role\":\"assistant\",\"text\":\"is Aarohi.\"},{\"role\":\"assistant\",\"text\":\"How may\"},{\"role\":\"assistant\",\"text\":\"I help\"},{\"role\":\"assistant\",\"text\":\"you today?\"},{\"role\":\"assistant\",\"text\":\"I can\"},{\"role\":\"assistant\",\"text\":\"help you\"},{\"role\":\"assistant\",\"text\":\"choose\"},{\"role\":\"assistant\",\"text\":\"from\"},{\"role\":\"assistant\",\"text\":\"our delicious\"},{\"role\":\"assistant\",\"text\":\"cake\"},{\"role\":\"assistant\",\"text\":\"flavours,\"},{\"role\":\"assistant\",\"text\":\"customize\"},{\"role\":\"assistant\",\"text\":\"it exactly\"},{\"role\":\"assistant\",\"text\":\"how you\"},{\"role\":\"assistant\",\"text\":\"want,\"},{\"role\":\"assistant\",\"text\":\"and arrange\"},{\"role\":\"assistant\",\"text\":\"a convenient\"},{\"role\":\"assistant\",\"text\":\"pickup\"},{\"role\":\"assistant\",\"text\":\"time.\"},{\"role\":\"user\",\"text\":\"Okay\"},{\"role\":\"user\",\"text\":\", I\"},{\"role\":\"user\",\"text\":\"'m\"},{\"role\":\"user\",\"text\":\"loo\"},{\"role\":\"user\",\"text\":\"king\"},{\"role\":\"user\",\"text\":\"to order the cake.\"},{\"role\":\"assistant\",\"text\":\"Wonderful! What\"},{\"role\":\"assistant\",\"text\":\"special\"},{\"role\":\"assistant\",\"text\":\"occasion\"},{\"role\":\"assistant\",\"text\":\"are we\"},{\"role\":\"assistant\",\"text\":\"celebrating\"},{\"role\":\"assistant\",\"text\":\"today?\"},{\"role\":\"user\",\"text\":\"my\"},{\"role\":\"user\",\"text\":\"doctor body\"},{\"role\":\"assistant\",\"text\":\"Oh, happy\"},{\"role\":\"assistant\",\"text\":\"birthday\"},{\"role\":\"assistant\",\"text\":\"to your\"},{\"role\":\"assistant\",\"text\":\"daughter!\"},{\"role\":\"assistant\",\"text\":\"That's\"},{\"role\":\"assistant\",\"text\":\"wonderful\"},{\"role\":\"assistant\",\"text\":\"news!\"},{\"role\":\"assistant\",\"text\":\"To make\"},{\"role\":\"assistant\",\"text\":\"her day\"},{\"role\":\"assistant\",\"text\":\"even\"},{\"role\":\"assistant\",\"text\":\"sweeter,\"},{\"role\":\"assistant\",\"text\":\"what\"},{\"role\":\"assistant\",\"text\":\"flavour\"},{\"role\":\"assistant\",\"text\":\"would she\"},{\"role\":\"assistant\",\"text\":\"like\"},{\"role\":\"assistant\",\"text\":\"for her\"},{\"role\":\"assistant\",\"text\":\"cake?\"},{\"role\":\"assistant\",\"text\":\"We have\"},{\"role\":\"assistant\",\"text\":\"delicious\"},{\"role\":\"assistant\",\"text\":\"options\"},{\"role\":\"assistant\",\"text\":\"like\"},{\"role\":\"assistant\",\"text\":\"the rich\"},{\"role\":\"assistant\",\"text\":\"Dutch\"},{\"role\":\"assistant\",\"text\":\"truffle,\"},{\"role\":\"assistant\",\"text\":\"or\"},{\"role\":\"assistant\",\"text\":\"a light\"},{\"role\":\"assistant\",\"text\":\"fruity\"},{\"role\":\"assistant\",\"text\":\"pineapple,\"},{\"role\":\"assistant\",\"text\":\"or\"},{\"role\":\"assistant\",\"text\":\"even\"},{\"role\":\"assistant\",\"text\":\"a creamy\"},{\"role\":\"assistant\",\"text\":\"butterscotch.\"},{\"role\":\"user\",\"text\":\"I\"},{\"role\":\"user\",\"text\":\"like\"},{\"role\":\"user\",\"text\":\"to\"},{\"role\":\"user\",\"text\":\"go\"},{\"role\":\"user\",\"text\":\"for\"},{\"role\":\"user\",\"text\":\"pi\"},{\"role\":\"user\",\"text\":\"neapple.\"},{\"role\":\"assistant\",\"text\":\"Pineapple is\"},{\"role\":\"assistant\",\"text\":\"a lovely\"},{\"role\":\"assistant\",\"text\":\"choice!\"},{\"role\":\"assistant\",\"text\":\"It's\"},{\"role\":\"assistant\",\"text\":\"light\"},{\"role\":\"assistant\",\"text\":\"and refreshing.\"},{\"role\":\"assistant\",\"text\":\"Would\"},{\"role\":\"assistant\",\"text\":\"you like\"},{\"role\":\"assistant\",\"text\":\"to make\"},{\"role\":\"assistant\",\"text\":\"that\"},{\"role\":\"assistant\",\"text\":\"eggless?\"},{\"role\":\"assistant\",\"text\":\"Our\"},{\"role\":\"assistant\",\"text\":\"pineapple\"},{\"role\":\"assistant\",\"text\":\"cake\"},{\"role\":\"assistant\",\"text\":\"can be\"},{\"role\":\"assistant\",\"text\":\"made\"},{\"role\":\"assistant\",\"text\":\"eggless\"},{\"role\":\"assistant\",\"text\":\"for a\"},{\"role\":\"assistant\",\"text\":\"small\"},{\"role\":\"assistant\",\"text\":\"extra\"},{\"role\":\"assistant\",\"text\":\"charge.\"},{\"role\":\"user\",\"text\":\"Okay\"},{\"role\":\"user\",\"text\":\",\"},{\"role\":\"user\",\"text\":\"wha\"},{\"role\":\"user\",\"text\":\"t will\"},{\"role\":\"user\",\"text\":\"be the actual charge?\"},{\"role\":\"assistant\",\"text\":\"For a\"},{\"role\":\"assistant\",\"text\":\"half\"},{\"role\":\"assistant\",\"text\":\"kg\"},{\"role\":\"assistant\",\"text\":\"eggless\"},{\"role\":\"assistant\",\"text\":\"pineapple\"},{\"role\":\"assistant\",\"text\":\"cake,\"},{\"role\":\"assistant\",\"text\":\"it would\"},{\"role\":\"assistant\",\"text\":\"be\"},{\"role\":\"assistant\",\"text\":\"₹30\"},{\"role\":\"assistant\",\"text\":\"extra.\"},{\"role\":\"assistant\",\"text\":\"For a\"},{\"role\":\"assistant\",\"text\":\"1\"},{\"role\":\"assistant\",\"text\":\"kg\"},{\"role\":\"assistant\",\"text\":\"cake,\"},{\"role\":\"assistant\",\"text\":\"it would\"},{\"role\":\"assistant\",\"text\":\"be ₹60\"},{\"role\":\"assistant\",\"text\":\"extra.\"},{\"role\":\"assistant\",\"text\":\"Which\"},{\"role\":\"assistant\",\"text\":\"size\"},{\"role\":\"assistant\",\"text\":\"would\"},{\"role\":\"assistant\",\"text\":\"you prefer?\"},{\"role\":\"user\",\"text\":\"one.\"},{\"role\":\"assistant\",\"text\":\"Okay, a\"},{\"role\":\"assistant\",\"text\":\"1\"},{\"role\":\"assistant\",\"text\":\"kg\"},{\"role\":\"assistant\",\"text\":\"eggless\"},{\"role\":\"assistant\",\"text\":\"pineapple\"},{\"role\":\"assistant\",\"text\":\"cake.\"},{\"role\":\"assistant\",\"text\":\"Perfect!\"},{\"role\":\"assistant\",\"text\":\"Would\"},{\"role\":\"assistant\",\"text\":\"you like\"},{\"role\":\"assistant\",\"text\":\"any\"},{\"role\":\"assistant\",\"text\":\"special\"},{\"role\":\"assistant\",\"text\":\"toppings\"},{\"role\":\"assistant\",\"text\":\"on the\"},{\"role\":\"assistant\",\"text\":\"cake,\"},{\"role\":\"assistant\",\"text\":\"like\"},{\"role\":\"assistant\",\"text\":\"strawberry,\"},{\"role\":\"assistant\",\"text\":\"caramel,\"},{\"role\":\"assistant\",\"text\":\"or blueberry?\"},{\"role\":\"user\",\"text\":\"はい 。\"},{\"role\":\"assistant\",\"text\":\"Great choice!\"},{\"role\":\"assistant\",\"text\":\"Strawberry\"},{\"role\":\"assistant\",\"text\":\"topping\"},{\"role\":\"assistant\",\"text\":\"would be\"},{\"role\":\"assistant\",\"text\":\"delicious\"},{\"role\":\"assistant\",\"text\":\"with pineapple.\"},{\"role\":\"assistant\",\"text\":\"That\"},{\"role\":\"assistant\",\"text\":\"would be\"},{\"role\":\"assistant\",\"text\":\"₹95\"},{\"role\":\"assistant\",\"text\":\"extra.\"},{\"role\":\"assistant\",\"text\":\"And\"},{\"role\":\"assistant\",\"text\":\"what\"},{\"role\":\"assistant\",\"text\":\"shape\"},{\"role\":\"assistant\",\"text\":\"would\"},{\"role\":\"assistant\",\"text\":\"you like\"},{\"role\":\"assistant\",\"text\":\"the cake\"},{\"role\":\"assistant\",\"text\":\"in?\"},{\"role\":\"assistant\",\"text\":\"We can\"},{\"role\":\"assistant\",\"text\":\"do\"},{\"role\":\"assistant\",\"text\":\"round,\"},{\"role\":\"assistant\",\"text\":\"square,\"},{\"role\":\"assistant\",\"text\":\"or heart-shaped.\"},{\"role\":\"user\",\"text\":\"I\"},{\"role\":\"user\",\"text\":\"would\"},{\"role\":\"user\",\"text\":\"like shit.\"},{\"role\":\"assistant\",\"text\":\"A heart-shaped\"},{\"role\":\"assistant\",\"text\":\"cake,\"},{\"role\":\"assistant\",\"text\":\"how\"},{\"role\":\"assistant\",\"text\":\"sweet!\"},{\"role\":\"assistant\",\"text\":\"And\"},{\"role\":\"assistant\",\"text\":\"what would\"},{\"role\":\"assistant\",\"text\":\"you like\"},{\"role\":\"assistant\",\"text\":\"written\"},{\"role\":\"assistant\",\"text\":\"on the\"},{\"role\":\"assistant\",\"text\":\"cake\"},{\"role\":\"assistant\",\"text\":\"for her\"},{\"role\":\"assistant\",\"text\":\"birthday?\"},{\"role\":\"user\",\"text\":\"Ha\"},{\"role\":\"user\",\"text\":\"ppy\"},{\"role\":\"user\",\"text\":\"bir\"},{\"role\":\"user\",\"text\":\"thday\"},{\"role\":\"user\",\"text\":\".\"},{\"role\":\"assistant\",\"text\":\"\\\"Happy Birthday,\"},{\"role\":\"assistant\",\"text\":\"Reva!\\\"\"},{\"role\":\"assistant\",\"text\":\"That\"},{\"role\":\"assistant\",\"text\":\"sounds\"},{\"role\":\"assistant\",\"text\":\"perfect.\"},{\"role\":\"assistant\",\"text\":\"We can\"},{\"role\":\"assistant\",\"text\":\"decorate\"},{\"role\":\"assistant\",\"text\":\"it with\"},{\"role\":\"assistant\",\"text\":\"some\"},{\"role\":\"assistant\",\"text\":\"colourful\"},{\"role\":\"assistant\",\"text\":\"sprinkles\"},{\"role\":\"assistant\",\"text\":\"and\"},{\"role\":\"assistant\",\"text\":\"maybe\"},{\"role\":\"assistant\",\"text\":\"some\"},{\"role\":\"assistant\",\"text\":\"edible\"},{\"role\":\"assistant\",\"text\":\"flowers.\"},{\"role\":\"assistant\",\"text\":\"Would\"},{\"role\":\"assistant\",\"text\":\"you like\"},{\"role\":\"assistant\",\"text\":\"any\"},{\"role\":\"assistant\",\"text\":\"specific\"},{\"role\":\"assistant\",\"text\":\"colours\"},{\"role\":\"assistant\",\"text\":\"for the\"},{\"role\":\"assistant\",\"text\":\"decorations?\"},{\"role\":\"user\",\"text\":\"No.\"},{\"role\":\"assistant\",\"text\":\"Alright, we'll\"},{\"role\":\"assistant\",\"text\":\"make\"},{\"role\":\"assistant\",\"text\":\"it lovely\"},{\"role\":\"assistant\",\"text\":\"for\"},{\"role\":\"assistant\",\"text\":\"Reva!\"},{\"role\":\"assistant\",\"text\":\"Now,\"},{\"role\":\"assistant\",\"text\":\"regarding\"},{\"role\":\"user\",\"text\":\"By\"},{\"role\":\"user\",\"text\":\"the\"},{\"role\":\"user\",\"text\":\"way\"},{\"role\":\"user\",\"text\":\"the\"},{\"role\":\"user\",\"text\":\"name\"},{\"role\":\"user\",\"text\":\"of the\"},{\"role\":\"user\",\"text\":\"name\"},{\"role\":\"assistant\",\"text\":\"Reva, lovely\"},{\"role\":\"user\",\"text\":\"Could you please wait.\"},{\"role\":\"assistant\",\"text\":\"Okay, got\"},{\"role\":\"assistant\",\"text\":\"it.\"},{\"role\":\"assistant\",\"text\":\"\\\"Happy\"},{\"role\":\"user\",\"text\":\"In\"},{\"role\":\"user\",\"text\":\"cli\"},{\"role\":\"assistant\",\"text\":\"Apologies for\"},{\"role\":\"assistant\",\"text\":\"the misunderstanding.\"},{\"role\":\"user\",\"text\":\"My\"},{\"role\":\"user\",\"text\":\"da\"},{\"role\":\"user\",\"text\":\"ughter\"},{\"role\":\"user\",\"text\":\"'s\"},{\"role\":\"user\",\"text\":\"name\"},{\"role\":\"user\",\"text\":\"is\"},{\"role\":\"assistant\",\"text\":\"Oh, I\"},{\"role\":\"user\",\"text\":\"My\"},{\"role\":\"user\",\"text\":\"da\"},{\"role\":\"user\",\"text\":\"ughter\"},{\"role\":\"user\",\"text\":\"'s\"},{\"role\":\"user\",\"text\":\"name\"},{\"role\":\"user\",\"text\":\"is\"},{\"role\":\"user\",\"text\":\"S\"},{\"role\":\"user\",\"text\":\"H\"},{\"role\":\"user\",\"text\":\"r\"},{\"role\":\"user\",\"text\":\"t a\"},{\"role\":\"user\",\"text\":\"Srita.\"},{\"role\":\"assistant\",\"text\":\"Got it!\"},{\"role\":\"assistant\",\"text\":\"\\\"Happy\"},{\"role\":\"assistant\",\"text\":\"Birthday,\"},{\"role\":\"assistant\",\"text\":\"Shwetha!\\\"\"},{\"role\":\"assistant\",\"text\":\"That's\"},{\"role\":\"assistant\",\"text\":\"much\"},{\"role\":\"assistant\",\"text\":\"better!\"},{\"role\":\"assistant\",\"text\":\"So,\"},{\"role\":\"assistant\",\"text\":\"a\"},{\"role\":\"assistant\",\"text\":\"1\"},{\"role\":\"assistant\",\"text\":\"kg\"},{\"role\":\"assistant\",\"text\":\"eggless\"},{\"role\":\"assistant\",\"text\":\"pineapple\"},{\"role\":\"assistant\",\"text\":\"cake,\"},{\"role\":\"assistant\",\"text\":\"heart-shaped,\"},{\"role\":\"assistant\",\"text\":\"with\"},{\"role\":\"assistant\",\"text\":\"strawberry\"},{\"role\":\"assistant\",\"text\":\"topping,\"},{\"role\":\"assistant\",\"text\":\"and\"},{\"role\":\"assistant\",\"text\":\"\\\"Happy\"},{\"role\":\"assistant\",\"text\":\"Birthday,\"},{\"role\":\"assistant\",\"text\":\"Shwetha!\\\"\"},{\"role\":\"assistant\",\"text\":\"written\"},{\"role\":\"assistant\",\"text\":\"on it.\"},{\"role\":\"assistant\",\"text\":\"When\"},{\"role\":\"assistant\",\"text\":\"would you\"},{\"role\":\"assistant\",\"text\":\"like\"},{\"role\":\"assistant\",\"text\":\"to pick\"},{\"role\":\"assistant\",\"text\":\"it up?\"},{\"role\":\"user\",\"text\":\"Yeah\"},{\"role\":\"user\",\"text\":\".\"},{\"role\":\"user\",\"text\":\"To\"},{\"role\":\"user\",\"text\":\"morrow\"},{\"role\":\"user\",\"text\":\"400\"},{\"role\":\"assistant\",\"text\":\"Tomorrow at\"},{\"role\":\"assistant\",\"text\":\"4:00\"},{\"role\":\"assistant\",\"text\":\"PM,\"},{\"role\":\"assistant\",\"text\":\"that\"},{\"role\":\"assistant\",\"text\":\"works\"},{\"role\":\"assistant\",\"text\":\"perfectly!\"},{\"role\":\"assistant\",\"text\":\"May\"},{\"role\":\"assistant\",\"text\":\"I have\"},{\"role\":\"assistant\",\"text\":\"your name\"},{\"role\":\"assistant\",\"text\":\"and\"},{\"role\":\"assistant\",\"text\":\"mobile\"},{\"role\":\"assistant\",\"text\":\"number\"},{\"role\":\"assistant\",\"text\":\"for the\"},{\"role\":\"assistant\",\"text\":\"order?\"},{\"role\":\"user\",\"text\":\"Yeah\"},{\"role\":\"user\",\"text\":\", it\"},{\"role\":\"user\",\"text\":\"'s\"},{\"role\":\"user\",\"text\":\"Na\"},{\"role\":\"user\",\"text\":\"ru\"},{\"role\":\"user\",\"text\":\"sh\"},{\"role\":\"user\",\"text\":\".\"},{\"role\":\"user\",\"text\":\"Mo\"},{\"role\":\"user\",\"text\":\"bile\"},{\"role\":\"user\",\"text\":\"nu\"},{\"role\":\"user\",\"text\":\"mber\"},{\"role\":\"user\",\"text\":\"is\"},{\"role\":\"user\",\"text\":\"99\"},{\"role\":\"user\",\"text\":\"1\"},{\"role\":\"user\",\"text\":\"6\"},{\"role\":\"user\",\"text\":\"0\"},{\"role\":\"user\",\"text\":\"4\"},{\"role\":\"user\",\"text\":\"9\"},{\"role\":\"user\",\"text\":\"4\"},{\"role\":\"user\",\"text\":\"9\"},{\"role\":\"user\",\"text\":\"3.\"},{\"role\":\"assistant\",\"text\":\"Thank you,\"},{\"role\":\"assistant\",\"text\":\"Mr.\"},{\"role\":\"assistant\",\"text\":\"Naresh.\"},{\"role\":\"assistant\",\"text\":\"Let\"},{\"role\":\"assistant\",\"text\":\"me confirm\"},{\"role\":\"assistant\",\"text\":\"your order:\"},{\"role\":\"user\",\"text\":\"Can\"},{\"role\":\"user\",\"text\":\"you\"},{\"role\":\"user\",\"text\":\"send\"},{\"role\":\"user\",\"text\":\"me\"},{\"role\":\"user\",\"text\":\"the\"},{\"role\":\"user\",\"text\":\"sum\"},{\"role\":\"user\",\"text\":\"mary\"},{\"role\":\"user\",\"text\":\"of the call?\"},{\"role\":\"assistant\",\"text\":\"Certainly! Here's\"},{\"role\":\"assistant\",\"text\":\"a summary\"},{\"role\":\"assistant\",\"text\":\"of your\"},{\"role\":\"assistant\",\"text\":\"order:\"}]}"""),
            ],
        ),
        types.Content(
            role="model",
            parts=[
                types.Part.from_text(text="""{\"call_type\": \"Booking\", \"order_details\": {\"item\": \"Pineapple cake\", \"weight\": \"1 kg\", \"eggless\": \"yes\", \"eggless_charge\": \"60\", \"toppings\": \"strawberry\", \"toppings_charge\": \"95\", \"shape\": \"heart\", \"message_on_top\": \"Happy Birthday, Shwetha!\", \"decorations\": \"colorful sprinkles and edible flowers\", \"pickup_date\": \"tomorrow\", \"pickup_time\": \"4:00 PM\"}, \"customer_details\": {\"name\": \"Naresh\", \"phone_number\": \"9916049493\"}, \"occasion\": \"daughter's birthday\"}"""),
            ],
        ),
        types.Content(
            role="user",
            parts=[
                types.Part.from_text(text="""{\"session_id\":\"057a2b26-f035-4b4a-a322-d0775a8bfffb\",\"conversation\":[{\"role\":\"user\",\"text\":\"He\"},{\"role\":\"user\",\"text\":\"llo\"},{\"role\":\"user\",\"text\":\".\"},{\"role\":\"user\",\"text\":\"Are you there?\"},{\"role\":\"assistant\",\"text\":\"Hello! Welcome\"},{\"role\":\"assistant\",\"text\":\"to Happy\"},{\"role\":\"assistant\",\"text\":\"Endings\"},{\"role\":\"assistant\",\"text\":\"Bakery!\"},{\"role\":\"assistant\",\"text\":\"This\"},{\"role\":\"assistant\",\"text\":\"is Aarohi.\"},{\"role\":\"assistant\",\"text\":\"How may\"},{\"role\":\"assistant\",\"text\":\"I help\"},{\"role\":\"assistant\",\"text\":\"you today?\"},{\"role\":\"user\",\"text\":\"I would\"},{\"role\":\"user\",\"text\":\"like\"},{\"role\":\"user\",\"text\":\"to\"},{\"role\":\"user\",\"text\":\"or\"},{\"role\":\"user\",\"text\":\"der\"},{\"role\":\"user\",\"text\":\"a ca\"},{\"role\":\"user\",\"text\":\"ke\"},{\"role\":\"user\",\"text\":\"in\"},{\"role\":\"user\",\"text\":\"fact\"},{\"role\":\"user\",\"text\":\"two\"},{\"role\":\"user\",\"text\":\"cakes.\"},{\"role\":\"assistant\",\"text\":\"Oh, that\"},{\"role\":\"assistant\",\"text\":\"sounds\"},{\"role\":\"assistant\",\"text\":\"like\"},{\"role\":\"assistant\",\"text\":\"a wonderful\"},{\"role\":\"assistant\",\"text\":\"celebration!\"},{\"role\":\"assistant\",\"text\":\"What\"},{\"role\":\"assistant\",\"text\":\"special\"},{\"role\":\"assistant\",\"text\":\"occasions\"},{\"role\":\"assistant\",\"text\":\"are we\"},{\"role\":\"assistant\",\"text\":\"celebrating\"},{\"role\":\"assistant\",\"text\":\"today?\"},{\"role\":\"user\",\"text\":\"My\"},{\"role\":\"user\",\"text\":\"god\"},{\"role\":\"user\",\"text\":\"is birthday.\"},{\"role\":\"assistant\",\"text\":\"Aww, that's\"},{\"role\":\"assistant\",\"text\":\"lovely!\"},{\"role\":\"user\",\"text\":\"Go on.\"},{\"role\":\"assistant\",\"text\":\"Okay, that\"},{\"role\":\"user\",\"text\":\"هلو <noise>\"},{\"role\":\"assistant\",\"text\":\"Okay, that\"},{\"role\":\"assistant\",\"text\":\"sounds\"},{\"role\":\"assistant\",\"text\":\"like\"},{\"role\":\"assistant\",\"text\":\"two\"},{\"role\":\"assistant\",\"text\":\"birthday\"},{\"role\":\"assistant\",\"text\":\"cakes\"},{\"role\":\"assistant\",\"text\":\"then!\"},{\"role\":\"assistant\",\"text\":\"What\"},{\"role\":\"assistant\",\"text\":\"kind\"},{\"role\":\"assistant\",\"text\":\"of flavors\"},{\"role\":\"assistant\",\"text\":\"and\"},{\"role\":\"assistant\",\"text\":\"designs\"},{\"role\":\"assistant\",\"text\":\"are you\"},{\"role\":\"assistant\",\"text\":\"thinking\"},{\"role\":\"assistant\",\"text\":\"for your\"},{\"role\":\"assistant\",\"text\":\"daughter's\"},{\"role\":\"assistant\",\"text\":\"birthday?\"},{\"role\":\"user\",\"text\":\"One\"},{\"role\":\"user\",\"text\":\"Du\"},{\"role\":\"user\",\"text\":\"tch\"},{\"role\":\"user\",\"text\":\"tra\"},{\"role\":\"user\",\"text\":\"ff\"},{\"role\":\"user\",\"text\":\"le\"},{\"role\":\"user\",\"text\":\", one\"},{\"role\":\"user\",\"text\":\"bat\"},{\"role\":\"user\",\"text\":\"tle\"},{\"role\":\"user\",\"text\":\"car\"},{\"role\":\"user\",\"text\":\"ds\"},{\"role\":\"user\",\"text\":\",\"},{\"role\":\"user\",\"text\":\"the\"},{\"role\":\"user\",\"text\":\"Du\"},{\"role\":\"user\",\"text\":\"tch\"},{\"role\":\"user\",\"text\":\"tra\"},{\"role\":\"user\",\"text\":\"ffle\"},{\"role\":\"user\",\"text\":\"I\"},{\"role\":\"user\",\"text\":\"wan\"},{\"role\":\"user\",\"text\":\"ted\"},{\"role\":\"user\",\"text\":\"round\"},{\"role\":\"user\",\"text\":\"the\"},{\"role\":\"user\",\"text\":\"bu\"},{\"role\":\"user\",\"text\":\"tter\"},{\"role\":\"user\",\"text\":\"sco\"},{\"role\":\"user\",\"text\":\"tch\"},{\"role\":\"user\",\"text\":\"I\"},{\"role\":\"user\",\"text\":\"wan\"},{\"role\":\"user\",\"text\":\"ted\"},{\"role\":\"user\",\"text\":\"in a\"},{\"role\":\"user\",\"text\":\"squa\"},{\"role\":\"user\",\"text\":\"re\"},{\"role\":\"user\",\"text\":\"sha\"},{\"role\":\"user\",\"text\":\"pe\"},{\"role\":\"user\",\"text\":\".\"},{\"role\":\"user\",\"text\":\"Bo\"},{\"role\":\"user\",\"text\":\"th\"},{\"role\":\"user\",\"text\":\"ed\"},{\"role\":\"user\",\"text\":\"ges\"},{\"role\":\"user\",\"text\":\".\"},{\"role\":\"assistant\",\"text\":\"Wonderful choices!\"},{\"role\":\"assistant\",\"text\":\"A Dutch\"},{\"role\":\"assistant\",\"text\":\"Truffle\"},{\"role\":\"assistant\",\"text\":\"round\"},{\"role\":\"assistant\",\"text\":\"cake\"},{\"role\":\"assistant\",\"text\":\"and a\"},{\"role\":\"assistant\",\"text\":\"Butterscotch\"},{\"role\":\"assistant\",\"text\":\"square\"},{\"role\":\"assistant\",\"text\":\"cake,\"},{\"role\":\"assistant\",\"text\":\"both\"},{\"role\":\"assistant\",\"text\":\"eggless.\"},{\"role\":\"assistant\",\"text\":\"Perfect!\"},{\"role\":\"assistant\",\"text\":\"And\"},{\"role\":\"assistant\",\"text\":\"what\"},{\"role\":\"assistant\",\"text\":\"would you\"},{\"role\":\"assistant\",\"text\":\"like\"},{\"role\":\"assistant\",\"text\":\"written\"},{\"role\":\"assistant\",\"text\":\"on the\"},{\"role\":\"assistant\",\"text\":\"cakes?\"}]}
"""),
            ],
        ),
        types.Content(
            role="model",
            parts=[
                types.Part.from_text(text="""{\"call_type\": \"Booking\", \"order_details\": [{\"item\": \"Dutch Truffle cake\", \"shape\": \"round\", \"eggless\": \"yes\"}, {\"item\": \"Butterscotch cake\", \"shape\": \"square\", \"eggless\": \"yes\"}], \"occasion\": \"daughter's birthday\"}"""),
            ],
        ),
        types.Content(
            role="user",
            parts=[
                types.Part.from_text(text="""INSERT_INPUT_HERE"""),
            ],
        ),
    ]
    generate_content_config = types.GenerateContentConfig(
        temperature=0.7,
        thinking_config = types.ThinkingConfig(
            thinking_budget=0,
        ),
        safety_settings=[
            types.SafetySetting(
                category="HARM_CATEGORY_HARASSMENT",
                threshold="BLOCK_LOW_AND_ABOVE",  # Block most
            ),
            types.SafetySetting(
                category="HARM_CATEGORY_HATE_SPEECH",
                threshold="BLOCK_LOW_AND_ABOVE",  # Block most
            ),
            types.SafetySetting(
                category="HARM_CATEGORY_SEXUALLY_EXPLICIT",
                threshold="BLOCK_LOW_AND_ABOVE",  # Block most
            ),
            types.SafetySetting(
                category="HARM_CATEGORY_DANGEROUS_CONTENT",
                threshold="BLOCK_LOW_AND_ABOVE",  # Block most
            ),
        ],
        response_mime_type="text/plain",
        system_instruction=[
            types.Part.from_text(text="""You are a highly efficient data analysis assistant. You are an expert data extraction agent. Analyze the following call transcript and extract the key details. Your response MUST be a single, valid JSON object. Do not include any explanatory text, markdown formatting, or anything else outside of the JSON object.

Call_type:
---
\"call_type\": {
      \"enum\": [
        \"Booking\",
        \"Status Check\",
        \"Cancellation\",
        \"Informational\",
        \"Others\"
      ],
---

Transcript:
---
{transcript}
---
{{ ... }}
Now, provide the structured JSON output."""),
        ],
    )

    for chunk in client.models.generate_content_stream(
        model=model,
        contents=contents,
        config=generate_content_config,
    ):
        print(chunk.text, end="")

if __name__ == "__main__":
    generate()
